{
  "build": {
    "type": "laravel",
    "php_version": "8.3",
    "node_version": "20"
  },
  "deploy": {
    "type": "git",
    "branch": "main"
  },
  "services": [
    {
      "name": "app",
      "type": "laravel",
      "environment": [
        "APP_ENV=production",
        "APP_DEBUG=false",
        "APP_URL=https://your-domain.com",
        "DB_CONNECTION=mysql",
        "DB_HOST=mysql",
        "DB_DATABASE=wattaway",
        "DB_USERNAME=wattaway_user",
        "CACHE_STORE=redis",
        "QUEUE_CONNECTION=redis",
        "SESSION_DRIVER=redis",
        "REDIS_HOST=redis"
      ],
      "build_command": "composer install --no-dev --optimize-autoloader && npm ci && npm run build && php artisan key:generate && php artisan config:cache && php artisan route:cache && php artisan view:cache",
      "start_command": "php artisan serve --host=0.0.0.0 --port=8000"
    },
    {
      "name": "mysql",
      "type": "mysql",
      "version": "8.0",
      "environment": [
        "MYSQL_DATABASE=wattaway",
        "MYSQL_USER=wattaway_user",
        "MYSQL_ALLOW_EMPTY_PASSWORD=yes"
      ]
    },
    {
      "name": "redis",
      "type": "redis",
      "version": "7.0"
    }
  ],
  "domains": [
    {
      "domain": "your-domain.com",
      "service": "app"
    }
  ]
}
