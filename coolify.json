{
  "build": {
    "dockerfile": "Dockerfile"
  },
  "deploy": {
    "restartPolicyType": "ON_FAILURE",
    "restartPolicyMaxRetries": 3
  },
  "environments": [
    {
      "name": "production",
      "variables": [
        {
          "key": "APP_DEBUG",
          "value": "false"
        },
        {
          "key": "APP_ENV",
          "value": "production"
        },
        {
          "key": "APP_KEY",
          "value": "${APP_KEY}"
        },
        {
          "key": "APP_MAINTENANCE_DRIVER",
          "value": "file"
        },
        {
          "key": "APP_NAME",
          "value": "Wattaway"
        },
        {
          "key": "CACHE_STORE",
          "value": "file"
        },
        {
          "key": "FILESYSTEM_DISK",
          "value": "public"
        },
        {
          "key": "MAIL_MAILER",
          "value": "log"
        },
        {
          "key": "SESSION_DRIVER",
          "value": "file"
        },
        {
          "key": "DB_CONNECTION",
          "value": "${DB_CONNECTION}"
        },
        {
          "key": "DB_DATABASE",
          "value": "${DB_DATABASE}"
        },
        {
          "key": "DB_HOST",
          "value": "${DB_HOST}"
        },
        {
          "key": "DB_PASSWORD",
          "value": "${DB_PASSWORD}"
        },
        {
          "key": "DB_PORT",
          "value": "${DB_PORT}"
        },
        {
          "key": "DB_USERNAME",
          "value": "${DB_USERNAME}"
        }
      ]
    }
  ],
  "postDeployment": [
    {
      "name": "Laravel Optimization",
      "command": "php artisan optimize:clear && php artisan config:clear && php artisan route:clear && php artisan view:clear && php artisan optimize"
    }
  ]
}
